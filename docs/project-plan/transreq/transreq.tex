\documentclass[final]{report}
\input{../../.library/preamble.tex}
\input{../../.library/style.tex}
\addbibresource{../../.library/bibliography.bib}
\begin{document}
\chapter{Translated Requirements}
After having described the system and it's requirements in natural language it's time to formulate them as $\mu$-calculus formulae that can be used for verification. In \cref{ch:interactions} all the actions in the model that will be used in the formulae in this chapter were described.

\section{Sensors}
\begin{enumerate}
\item There cannot be a no-train signal if a train is approaching.
\begin{itemize}
\item \textit{[true*][comm\_sensors(no\_train).(!comm\_sensors(train)*).set\_sensors(s$_{w}$, on).comm\_sensors(no\_train)]false}
\item \textit{[true*][comm\_sensors(no\_train).(!comm\_sensors(train)*).set\_sensors(s$_{e}$, on).comm\_sensors(no\_train)]false} 
\end{itemize}

\item There cannot be a no-train signal if the train is transiting.
\begin{itemize}
\item \textit{[true*][comm\_sensors(train).(!comm\_sensors(no\_train)*).set\_sensors(s$_{w}$, off).comm\_sensors(no\_train)]false}
\item \textit{[true*][comm\_sensors(train).(!comm\_sensors(no\_train)*).set\_sensors(s$_{e}$, off).comm\_sensors(no\_train)]false}
\end{itemize}

\item There cannot be a no-train signal if the train is in the middle of the tracks.\\
\textit{[true*][set\_sensors(s$_{m}$, on).(!set\_sensors(s$_{m}$, off)*).comm\_sensors(no\_train)]false}

\item There cannot be a train signal as soon as the central part of the track is cleared.\\
\textit{[true*][set\_sensors(s$_{m}$, off).(!set\_sensors(s$_{m}$, on)*).comm\_sensors(train)]false
}

\item There cannot be a train signal if the train is exiting.
\begin{itemize}
\item \textit{[true*][set\_sensors(s$_{m}$, off).(!comm\_sensors(train)*).set\_sensorss(s$_{e}$, on).comm\_sensors(train)]false}
\item \textit{[true*][set\_sensors(s$_{m}$, off).(!comm\_sensors(train)*).set\_sensors(s$_{w}$, on).comm\_sensors(train)]false}
\end{itemize}

\item There cannot be a train signal if the tracks are empty and there is no train approaching.
\begin{itemize}
\item \textit{[true*][comm\_sensors(no\_train).(!set\_sensors(s$_{e}$, on)*).comm\_sensors(train)]false}
\item \textit{[true*][comm\_sensors(no\_train).(!set\_sensors(s$_{w}$, on)*).comm\_sensors(train)]false}
\end{itemize}

\end{enumerate}
\section{Lights}

\begin{enumerate}
\item The lights cannot turn on when there is no train on the tracks.\\
\textit{[true*][trainoff.!trainon*.turnon\_lights]false}

\item The lights cannot turn off as long as there is a train on the tracks.\\
\textit{[true*][trainon.!trainoff*.turnoff\_lights]false}

\item The lights cannot turn off as long as the bells are on.\\
\textit{[true*][turnon\_bells.!turnoff\_bells*.turnoff\_lights]false}
\end{enumerate}

\section{Bells}
\begin{enumerate}
\item The bells cannot turn on if the lights are off\\
\textit{[true*][turnoff\_lights.!turnon\_lights*.turnoff\_bells]false}
\item The bells cannot turn on if there is no train on the track\\
\textit{[true*][trainoff.!trainon*.turnon\_bells]false}
\item The bells cannot turn off if the barriers are lowered\\
\textit{[true*][lower\_barriers.!raise\_barriers*.turnoff\_bells]false}
\item The bells cannot turn off if there is a train on the track\\
\textit{[true*][trainon.!trainoff*.turnoff\_bells]false}
\end{enumerate}

\section{Barriers}
\begin{enumerate}
\item The barriers cannot be raised when there is a train on the tracks\\
\textit{[true*][trainon.!trainoff*.raise\_barriers]false}
\item The barriers cannot be lowered if there is no train on the tracks\\
\textit{[true*][trainoff.!trainon*.lower\_barriers]false}
\item The barriers cannot be lowered if the bells are off\\
\textit{[true*][turnoff\_bells.!turnon\_bells*.lower\_barriers]false}
\end{enumerate}

\section{General}
\begin{enumerate}
\item From every state, the crossing needs to be able to be closed (barriers lowered, lights and bells on).\\
\textit{[true*]<true*.lower\_barriers>true}
\item From every state, the crossing needs to be able to be opened(lights and bells off, barriers raised).\\
\textit{[true*]<true*.turnoff\_lights>true}
\end{enumerate}

\end{document}